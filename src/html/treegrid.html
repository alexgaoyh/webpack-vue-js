<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<!-- 引入样式 -->
<link rel="stylesheet"
	href="https://cdn.bootcss.com/element-ui/2.0.6/theme-chalk/index.css">
</head>
<body>
	<div id="app">
		<tree-grid
            :items='data'
            :columns='columns'
            @on-row-click='rowClick'
            @on-selection-change='selectionClick'
            @on-sort-change='sortClick'
    ></tree-grid>
	</div>
</body>
<!-- 先引入 Vue -->
<script src="https://cdn.bootcss.com/vue/2.5.9/vue.js"></script>
<script src="../js/app/rbac/pap-tree-grid.min.js"></script>
<script>
	Vue.use(window.PapTreeGrid)
	new Vue({
		el: '#app',
		data: {
			columns: [{
                type: 'selection',
                width: '50',
            }, {
                title: '编码',
                key: 'code',
                width: '150',
                marginLeft: true
            }, {
                title: '名称',
                key: 'name',
                width: '150',
            }, {
                title: '状态',
                key: 'status',
                width: '150',
            }, {
                title: '备注',
                key: 'remark',
                width: '150',
            }, {
                title: '操作',
                type: 'action',
                actions: [{
                    type: 'primary',
                    text: '编辑'
                }, {
                    type: 'error',
                    text: '删除'
                }],
                width: '150',
            }],
            data: [{
                id: '1',
                code: '0001',
                name: '测试数据1',
                status: '启用',
                remark: '测试数据测试数据',
                level: 0,
                _checked: true
            }, {
                id: '2',
                code: '0002',
                name: '测试数据2',
                status: '启用',
                remark: '测试数据测试数据',
                level: 0,
                children: [{
                    id: '01',
                    code: '00021',
                    name: '测试数据01',
                    status: '启用',
                    remark: '测试数据测试数据',
                    level: 1,
                    children: [{
	                    id: '011',
	                    code: '000211',
	                    name: '测试数据01',
	                    status: '启用',
	                    remark: '测试数据测试数据',
	                    level: 2,
	                    children: [{
		                    id: '0111',
		                    code: '0002111',
		                    name: '测试数据01',
		                    status: '启用',
		                    remark: '测试数据测试数据',
		                    level: 2
		                }, {
		                    id: '0122',
		                    code: '0002122',
		                    name: '测试数据02',
		                    status: '启用',
		                    remark: '测试数据测试数据',
		                    level: 2
		                }]
	                }, {
	                    id: '012',
	                    code: '000212',
	                    name: '测试数据02',
	                    status: '启用',
	                    remark: '测试数据测试数据',
	                    level: 2
	                }]
                }, {
                    id: '02',
                    code: '00002',
                    name: '测试数据02',
                    status: '启用',
                    remark: '测试数据测试数据',
                    level: 1
                }]
            }, {
                id: '3',
                code: '0003',
                name: '测试数据3',
                status: '启用',
                level: 0,
                remark: '测试数据测试数据'
            }, {
                id: '4',
                code: '0004',
                name: '测试数据4',
                status: '启用',
                level: 0,
                remark: '测试数据测试数据'
            }]
		},
		methods: {
            rowClick(data, index, event) {
                console.log('当前行数据:' + data)
                console.log('点击行号:' + index)
                console.log('点击事件:' + event)
            },
            selectionClick(arr) {
                console.log('选中数据id数组:' + arr)
            },
            sortClick(key, type) {
                console.log('排序字段:' + key)
                console.log('排序规则:' + type)
            }
        }
	})
</script>